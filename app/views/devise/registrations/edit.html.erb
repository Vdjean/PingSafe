<div class="pingsafe-mobile-wrapper">
  <div class="pingsafe-form-container">
    <div class="pingsafe-form-card">

      <div class="pingsafe-form-header">
        <div class="pingsafe-form-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/>
            <circle cx="12" cy="7" r="4"/>
          </svg>
        </div>
        <h2 class="pingsafe-form-title">Edit <%= resource_name.to_s.humanize %></h2>
        <p class="pingsafe-form-subtitle">Manage your account settings</p>
      </div>

      <%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put, class: "pingsafe-form" }) do |f| %>
        <%= f.error_notification class: "pingsafe-form-error" %>

        <div class="pingsafe-form-inputs">

          <div class="pingsafe-form-group">
            <%= f.label :email, class: "pingsafe-form-label" do %>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="2" y="4" width="20" height="16" rx="2"/>
                <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/>
              </svg>
              <span>Email</span>
            <% end %>

            <%= f.input_field :email,
                required: true,
                autofocus: true,
                class: "pingsafe-form-input",
                input_html: { autocomplete: "email" } %>

            <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
              <p class="pingsafe-form-hint">Currently waiting confirmation for: <%= resource.unconfirmed_email %></p>
            <% end %>
            <%= f.error :email, class: "pingsafe-input-error" %>
          </div>

          <div class="pingsafe-form-group">
            <%= f.label :password, class: "pingsafe-form-label" do %>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
              </svg>
              <span>New Password</span>
            <% end %>

            <%= f.input_field :password,
                required: false,
                class: "pingsafe-form-input",
                placeholder: "Leave blank if unchanged",
                input_html: { autocomplete: "new-password" } %>
            <p class="pingsafe-form-hint">Leave it blank if you don't want to change it</p>
            <%= f.error :password, class: "pingsafe-input-error" %>
          </div>

          <div class="pingsafe-form-group">
            <%= f.label :password_confirmation, class: "pingsafe-form-label" do %>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
              </svg>
              <span>Confirm Password</span>
            <% end %>

            <%= f.input_field :password_confirmation,
                required: false,
                class: "pingsafe-form-input",
                input_html: { autocomplete: "new-password" } %>
            <%= f.error :password_confirmation, class: "pingsafe-input-error" %>
          </div>

          <div class="pingsafe-form-group">
            <%= f.label :current_password, class: "pingsafe-form-label" do %>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
              </svg>
              <span>Current Password</span>
            <% end %>

            <%= f.input_field :current_password,
                required: true,
                class: "pingsafe-form-input",
                input_html: { autocomplete: "current-password" } %>
            <p class="pingsafe-form-hint">We need your current password to confirm changes</p>
            <%= f.error :current_password, class: "pingsafe-input-error" %>
          </div>

        </div>

        <div class="pingsafe-form-actions">
          <%= f.button :submit, "Update", class: "pingsafe-form-submit" %>
        </div>
      <% end %>

      <h3 class="pingsafe-form-hint">Cancel my account</h3>
      <div class="pingsafe-form-hint">
        Unhappy?
        <%= button_to "Cancel my account",
            registration_path(resource_name),
            data: { confirm: "Are you sure?", turbo_confirm: "Are you sure?" },
            method: :delete %>
      </div>

      <div class="pingsafe-form-links">
        <%= link_to "Back", :back %>
      </div>

    </div>
  </div>

  <div class="pingsafe-lower-panel">
<div class="pingsafe-footer" data-map-footer-target="footer">
  <%= render "shared/footer2" %>
</div>
</div>
</div>
